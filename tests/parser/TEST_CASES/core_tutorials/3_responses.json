{
    "directed": true,
    "multigraph": true,
    "graph": {
        "full_script": {
            "3_responses": {
                "TRANSITIONS": "from dff.script import TRANSITIONS",
                "RESPONSE": "from dff.script import RESPONSE",
                "Message": "from dff.script import Message",
                "rsp": "import dff.script.responses",
                "cnd": "import dff.script.conditions",
                "Pipeline": "from dff.pipeline import Pipeline",
                "toy_script": {
                    "'greeting_flow'": {
                        "'start_node'": {
                            "RESPONSE": "Message()",
                            "TRANSITIONS": {
                                "'node1'": "cnd.exact_match(Message(text='Hi'))"
                            }
                        },
                        "'node1'": {
                            "RESPONSE": "rsp.choice([Message(text='Hi, what is up?'), Message(text='Hello, how are you?')])",
                            "TRANSITIONS": {
                                "'node2'": "cnd.exact_match(Message(text=\"I'm fine, how are you?\"))"
                            }
                        },
                        "'node2'": {
                            "RESPONSE": "Message(text='Good. What do you want to talk about?')",
                            "TRANSITIONS": {
                                "'node3'": "cnd.exact_match(Message(text=\"Let's talk about music.\"))"
                            }
                        },
                        "'node3'": {
                            "RESPONSE": "cannot_talk_about_topic_response",
                            "TRANSITIONS": {
                                "'node4'": "cnd.exact_match(Message(text='Ok, goodbye.'))"
                            }
                        },
                        "'node4'": {
                            "RESPONSE": "upper_case_response(Message(text='bye'))",
                            "TRANSITIONS": {
                                "'node1'": "cnd.exact_match(Message(text='Hi'))"
                            }
                        },
                        "'fallback_node'": {
                            "RESPONSE": "fallback_trace_response",
                            "TRANSITIONS": {
                                "'node1'": "cnd.exact_match(Message(text='Hi'))"
                            }
                        }
                    }
                },
                "pipeline": "Pipeline.from_script(toy_script, start_label=('greeting_flow', 'start_node'), fallback_label=('greeting_flow', 'fallback_node'))"
            }
        },
        "start_label": [
            "'greeting_flow'",
            "'start_node'"
        ],
        "fallback_label": [
            "'greeting_flow'",
            "'fallback_node'"
        ]
    },
    "nodes": [
        {
            "ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'start_node'"
            ],
            "id": [
                "NODE",
                "'greeting_flow'",
                "'start_node'"
            ]
        },
        {
            "ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node1'"
            ],
            "id": [
                "NODE",
                "'greeting_flow'",
                "'node1'"
            ]
        },
        {
            "ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node2'"
            ],
            "id": [
                "NODE",
                "'greeting_flow'",
                "'node2'"
            ]
        },
        {
            "ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node3'"
            ],
            "id": [
                "NODE",
                "'greeting_flow'",
                "'node3'"
            ]
        },
        {
            "ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node4'"
            ],
            "id": [
                "NODE",
                "'greeting_flow'",
                "'node4'"
            ]
        },
        {
            "ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'fallback_node'"
            ],
            "id": [
                "NODE",
                "'greeting_flow'",
                "'fallback_node'"
            ]
        }
    ],
    "links": [
        {
            "label_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'start_node'",
                "value_TRANSITIONS",
                "key_'node1'"
            ],
            "label": "'node1'",
            "condition_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'start_node'",
                "value_TRANSITIONS",
                "value_'node1'"
            ],
            "condition": "cnd.exact_match(Message(text='Hi'))",
            "source": [
                "NODE",
                "'greeting_flow'",
                "'start_node'"
            ],
            "target": [
                "NODE",
                "'greeting_flow'",
                "'node1'"
            ],
            "key": 0
        },
        {
            "label_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node1'",
                "value_TRANSITIONS",
                "key_'node2'"
            ],
            "label": "'node2'",
            "condition_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node1'",
                "value_TRANSITIONS",
                "value_'node2'"
            ],
            "condition": "cnd.exact_match(Message(text=\"I'm fine, how are you?\"))",
            "source": [
                "NODE",
                "'greeting_flow'",
                "'node1'"
            ],
            "target": [
                "NODE",
                "'greeting_flow'",
                "'node2'"
            ],
            "key": 0
        },
        {
            "label_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node2'",
                "value_TRANSITIONS",
                "key_'node3'"
            ],
            "label": "'node3'",
            "condition_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node2'",
                "value_TRANSITIONS",
                "value_'node3'"
            ],
            "condition": "cnd.exact_match(Message(text=\"Let's talk about music.\"))",
            "source": [
                "NODE",
                "'greeting_flow'",
                "'node2'"
            ],
            "target": [
                "NODE",
                "'greeting_flow'",
                "'node3'"
            ],
            "key": 0
        },
        {
            "label_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node3'",
                "value_TRANSITIONS",
                "key_'node4'"
            ],
            "label": "'node4'",
            "condition_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node3'",
                "value_TRANSITIONS",
                "value_'node4'"
            ],
            "condition": "cnd.exact_match(Message(text='Ok, goodbye.'))",
            "source": [
                "NODE",
                "'greeting_flow'",
                "'node3'"
            ],
            "target": [
                "NODE",
                "'greeting_flow'",
                "'node4'"
            ],
            "key": 0
        },
        {
            "label_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node4'",
                "value_TRANSITIONS",
                "key_'node1'"
            ],
            "label": "'node1'",
            "condition_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'node4'",
                "value_TRANSITIONS",
                "value_'node1'"
            ],
            "condition": "cnd.exact_match(Message(text='Hi'))",
            "source": [
                "NODE",
                "'greeting_flow'",
                "'node4'"
            ],
            "target": [
                "NODE",
                "'greeting_flow'",
                "'node1'"
            ],
            "key": 0
        },
        {
            "label_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'fallback_node'",
                "value_TRANSITIONS",
                "key_'node1'"
            ],
            "label": "'node1'",
            "condition_ref": [
                "3_responses",
                "toy_script",
                "value",
                "value_'greeting_flow'",
                "value_'fallback_node'",
                "value_TRANSITIONS",
                "value_'node1'"
            ],
            "condition": "cnd.exact_match(Message(text='Hi'))",
            "source": [
                "NODE",
                "'greeting_flow'",
                "'fallback_node'"
            ],
            "target": [
                "NODE",
                "'greeting_flow'",
                "'node1'"
            ],
            "key": 0
        }
    ]
}